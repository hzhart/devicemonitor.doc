# 站点管理

> 更新记录

<table>
    <tr>
        <th style="width:250px;">日期</th>
        <th>更新内容</th>
    </tr>
    <tr>
        <td>2018-06-04 10:53:38</td>
        <td>生成时间</td>
    </tr>
</table>

> 字段

<table>
    <tr>
        <th style="width:150px;">属性名称</th>
        <th style="width:60px;">类型</th>
        <th style="width:200px;">说明</th>
        <th>备注</th>
    </tr>
    <tr>
        <td>name</td>
        <td>string</td>
        <td>名称</td>
        <td>-</td>
    </tr>
    <tr>
        <td>areaId</td>
        <td>int</td>
        <td>区域ID</td>
        <td>-</td>
    </tr>
    <tr>
        <td>area</td>
        <td>string</td>
        <td>区域</td>
        <td>格式: 区域1/子区域2/子区域3</td>
    </tr>
    <tr>
        <td>address</td>
        <td>string</td>
        <td>地址</td>
        <td>-</td>
    </tr>
    <tr>
        <td>vegetation</td>
        <td>string</td>
        <td>植被</td>
        <td>-</td>
    </tr>
    <tr>
        <td>caliber</td>
        <td>string</td>
        <td>管道口径</td>
        <td>-</td>
    </tr>
    <tr>
        <td>material</td>
        <td>string</td>
        <td>材质</td>
        <td>-</td>
    </tr>
    <tr>
        <td>size</td>
        <td>string</td>
        <td>尺寸</td>
        <td>-</td>
    </tr>
    <tr>
        <td>lon</td>
        <td>decimal</td>
        <td>经度</td>
        <td>-</td>
    </tr>
    <tr>
        <td>lat</td>
        <td>decimal</td>
        <td>纬度</td>
        <td>-</td>
    </tr>
    <tr>
        <td>commNo</td>
        <td>string</td>
        <td>通信编号</td>
        <td>-</td>
    </tr>
    <tr>
        <td>deviceType</td>
        <td>int</td>
        <td>设备类型</td>
        <td>5: 压力变送器 6: 泄漏检测终端 7: 阴极保护测试桩</td>
    </tr>
    <tr>
        <td>deviceManufacturer</td>
        <td>string</td>
        <td>设备厂商</td>
        <td>-</td>
    </tr>
    <tr>
        <td>deviceModel</td>
        <td>string</td>
        <td>设备型号</td>
        <td>-</td>
    </tr>
    <tr>
        <td>protocolVersion</td>
        <td>string</td>
        <td>协议版本</td>
        <td>-</td>
    </tr>
    <tr>
        <td>electronicTag</td>
        <td>string</td>
        <td>电子标签号</td>
        <td>-</td>
    </tr>
    <tr>
        <td>antennaType</td>
        <td>string</td>
        <td>天线类型</td>
        <td>-</td>
    </tr>
    <tr>
        <td>simOperator</td>
        <td>string</td>
        <td>SIM卡运营商</td>
        <td>-</td>
    </tr>
    <tr>
        <td>simNumber</td>
        <td>string</td>
        <td>SIM卡号</td>
        <td>-</td>
    </tr>
    <tr>
        <td>simExpireDate</td>
        <td>DateTime</td>
        <td>SIM卡过期日期</td>
        <td>格式: 2020-01-02</td>
    </tr>
    <tr>
        <td>opDate</td>
        <td>DateTime</td>
        <td>安装日期</td>
        <td>格式: 2020-01-02</td>
    </tr>
    <tr>
        <td>opUserId</td>
        <td>long</td>
        <td>创建人ID</td>
        <td>-</td>
    </tr>
    <tr>
        <td>opUserName</td>
        <td>string</td>
        <td>创建人姓名</td>
        <td>-</td>
    </tr>
    <tr>
        <td>tag</td>
        <td>string</td>
        <td>标签</td>
        <td>-</td>
    </tr>
    <tr>
        <td>remark</td>
        <td>string</td>
        <td>备注</td>
        <td>-</td>
    </tr>
    <tr>
        <td>alertStatus</td>
        <td>string</td>
        <td>告警状态</td>
        <td>ok: 正常 doing: 告警中</td>
    </tr>
    <tr>
        <td>onlineStatus</td>
        <td>string</td>
        <td>在线状态</td>
        <td>online: 在线 offline: 离线</td>
    </tr>
    <tr>
        <td>lastDataAt</td>
        <td>int</td>
        <td>最后上传数据时间</td>
        <td>-</td>
    </tr>
    <tr>
        <td>createdAt</td>
        <td>datetime</td>
        <td>创建时间</td>
        <td>-</td>
    </tr>   
</table>

> 扩展字段
<table>
    <tr>
        <th style="width:150px;">属性名称</th>
        <th style="width:60px;">类型</th>
        <th style="width:200px;">说明</th>
        <th>备注</th>
    </tr>
    <tr>
        <td>latestData</td>
        <td>object</td>
        <td>最新数据</td>
        <td>-</td>
    </tr>
</table>

## 列表

```
GET /admin/station/v1/station
```

> 参数
<table>
    <tr>
        <th style="width:150px;">名称</th>
        <th style="width:60px;">类型</th>
        <th style="width:60px;">必填</th>
        <th style="width:200px;">说明</th>
        <th>备注</th>
    </tr>
    <tr>
        <td>areaId</td>
        <td>int</td>
        <td>-</td>
        <td>区域ID</td>
        <td>-</td>
    </tr>
    <tr>
        <td>area</td>
        <td>string</td>
        <td>-</td>
        <td>区域</td>
        <td>-</td>
    </tr>
    <tr>
        <td>deviceType</td>
        <td>int</td>
        <td>-</td>
        <td>设备类型</td>
        <td>-</td>
    </tr>
    <tr>
        <td>startDate</td>
        <td>date</td>
        <td>-</td>
        <td>开始日期</td>
        <td>格式：2023-01-02</td>
    </tr>
    <tr>
        <td>endDate</td>
        <td>date</td>
        <td>-</td>
        <td>结束日期</td>
        <td>格式：2023-01-02</td>
    </tr>
    <tr>
        <td>tag</td>
        <td>string</td>
        <td>-</td>
        <td>标签</td>
        <td>-</td>
    </tr>
    <tr>
        <td>keyword</td>
        <td>string</td>
        <td>-</td>
        <td>关键词</td>
        <td>搜索名称，区域，标签</td>
    </tr>
    <tr>
        <td>onlineStatus</td>
        <td>string</td>
        <td>-</td>
        <td>在线状态</td>
        <td>online: 在线 offline: 离线</td>
    </tr>
    <tr>
        <td>alertStatus</td>
        <td>string</td>
        <td>-</td>
        <td>告警状态</td>
        <td>ok: 正常 doing: 告警</td>
    </tr>
</table>

## 添加站点

```
POST /admin/station/v1/station
```

> 参数

<table>
    <tr>
        <th style="width:150px;">属性名称</th>
        <th style="width:60px;">类型</th>
        <th style="width:200px;">说明</th>
        <th style="width:200px;">必填</th>
        <th>备注</th>
    </tr>
    <tr>
        <td>name</td>
        <td>string</td>
        <td>名称</td>
        <td>是</td>
        <td>-</td>
    </tr>
    <tr>
        <td>areaId</td>
        <td>int</td>
        <td>区域ID</td>
        <td>是</td>
        <td>-</td>
    </tr>
    <tr>
        <td>area</td>
        <td>string</td>
        <td>区域</td>
        <td>是</td>
        <td>格式: 区域1/子区域2/子区域3</td>
    </tr>
    <tr>
        <td>address</td>
        <td>string</td>
        <td>地址</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>vegetation</td>
        <td>string</td>
        <td>植被</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>caliber</td>
        <td>string</td>
        <td>管道口径</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>material</td>
        <td>string</td>
        <td>材质</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>size</td>
        <td>string</td>
        <td>尺寸</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>lon</td>
        <td>decimal</td>
        <td>经度</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>lat</td>
        <td>decimal</td>
        <td>纬度</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>commNo</td>
        <td>string</td>
        <td>通信编号</td>
        <td>是</td>
        <td>-</td>
    </tr>
    <tr>
        <td>deviceType</td>
        <td>int</td>
        <td>设备类型</td>
        <td>是</td>
        <td>5: 压力变送器 6: 泄漏检测终端 7: 阴极保护测试桩</td>
    </tr>
    <tr>
        <td>deviceManufacturer</td>
        <td>string</td>
        <td>设备厂商</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>deviceModel</td>
        <td>string</td>
        <td>设备型号</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>protocolVersion</td>
        <td>string</td>
        <td>协议版本</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>electronicTag</td>
        <td>string</td>
        <td>电子标签号</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>antennaType</td>
        <td>string</td>
        <td>天线类型</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>simOperator</td>
        <td>string</td>
        <td>SIM卡运营商</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>simNumber</td>
        <td>string</td>
        <td>SIM卡号</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>simExpireDate</td>
        <td>DateTime</td>
        <td>SIM卡过期日期</td>
        <td>-</td>
        <td>格式: 2020-01-02</td>
    </tr>
    <tr>
        <td>opDate</td>
        <td>DateTime</td>
        <td>安装日期</td>
        <td>-</td>
        <td>格式: 2020-01-02</td>
    </tr>
    <tr>
        <td>opUserId</td>
        <td>long</td>
        <td>创建人ID</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>opUserName</td>
        <td>string</td>
        <td>创建人姓名</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>tag</td>
        <td>string</td>
        <td>标签</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>remark</td>
        <td>string</td>
        <td>备注</td>
        <td>-</td>
        <td>-</td>
    </tr> 
</table>

## 更新站点

```
PATCH /admin/station/v1/station/:id
```

> 参数

<table>
    <tr>
        <th style="width:150px;">属性名称</th>
        <th style="width:60px;">类型</th>
        <th style="width:200px;">说明</th>
        <th style="width:200px;">必填</th>
        <th>备注</th>
    </tr>
    <tr>
        <td>name</td>
        <td>string</td>
        <td>名称</td>
        <td>是</td>
        <td>-</td>
    </tr>
    <tr>
        <td>areaId</td>
        <td>int</td>
        <td>区域ID</td>
        <td>是</td>
        <td>-</td>
    </tr>
    <tr>
        <td>area</td>
        <td>string</td>
        <td>区域</td>
        <td>是</td>
        <td>格式: 区域1/子区域2/子区域3</td>
    </tr>
    <tr>
        <td>address</td>
        <td>string</td>
        <td>地址</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>vegetation</td>
        <td>string</td>
        <td>植被</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>caliber</td>
        <td>string</td>
        <td>管道口径</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>material</td>
        <td>string</td>
        <td>材质</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>size</td>
        <td>string</td>
        <td>尺寸</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>lon</td>
        <td>decimal</td>
        <td>经度</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>lat</td>
        <td>decimal</td>
        <td>纬度</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>commNo</td>
        <td>string</td>
        <td>通信编号</td>
        <td>是</td>
        <td>-</td>
    </tr>
    <tr>
        <td>deviceType</td>
        <td>int</td>
        <td>设备类型</td>
        <td>是</td>
        <td>5: 压力变送器 6: 泄漏检测终端 7: 阴极保护测试桩</td>
    </tr>
    <tr>
        <td>deviceManufacturer</td>
        <td>string</td>
        <td>设备厂商</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>deviceModel</td>
        <td>string</td>
        <td>设备型号</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>protocolVersion</td>
        <td>string</td>
        <td>协议版本</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>electronicTag</td>
        <td>string</td>
        <td>电子标签号</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>antennaType</td>
        <td>string</td>
        <td>天线类型</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>simOperator</td>
        <td>string</td>
        <td>SIM卡运营商</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>simNumber</td>
        <td>string</td>
        <td>SIM卡号</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>simExpireDate</td>
        <td>DateTime</td>
        <td>SIM卡过期日期</td>
        <td>-</td>
        <td>格式: 2020-01-02</td>
    </tr>
    <tr>
        <td>opDate</td>
        <td>DateTime</td>
        <td>安装日期</td>
        <td>-</td>
        <td>格式: 2020-01-02</td>
    </tr>
    <tr>
        <td>opUserId</td>
        <td>long</td>
        <td>创建人ID</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>opUserName</td>
        <td>string</td>
        <td>创建人姓名</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>tag</td>
        <td>string</td>
        <td>标签</td>
        <td>-</td>
        <td>-</td>
    </tr>
    <tr>
        <td>remark</td>
        <td>string</td>
        <td>备注</td>
        <td>-</td>
        <td>-</td>
    </tr> 
</table>

## 删除站点

```
DELETE /admin/station/v1/station/:id
```

## 站点导出

```
GET /admin/station/v1/station/export
```

> 参数, 同列表接口

## 设备类型列表

```
GET /admin/device/v1/type
```

## 标签列表

```
GET /admin/station/v1/tag
```
